# WP PDF Signature ğŸ–‹ï¸

> **WordPress PDFç·šä¸Šç°½åç³»çµ±** - åŸºæ–¼DocuSealæ¦‚å¿µé–‹ç™¼ï¼Œæä¾›å®Œæ•´çš„PDFæ–‡ä»¶ç°½åè§£æ±ºæ–¹æ¡ˆ

[![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)](https://github.com/user/wp-pdf-signature)
[![WordPress](https://img.shields.io/badge/WordPress-5.0%2B-blue.svg)](https://wordpress.org/)
[![PHP](https://img.shields.io/badge/PHP-7.4%2B-purple.svg)](https://php.net/)
[![License](https://img.shields.io/badge/license-GPL%20v2-green.svg)](https://www.gnu.org/licenses/gpl-2.0.html)

## âœ¨ åŠŸèƒ½ç‰¹è‰²

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- **PDFä¸Šå‚³å’Œç®¡ç†** - æ”¯æ´æ‹–æ‹‰ä¸Šå‚³ï¼Œè‡ªå‹•é©—è­‰æ–‡ä»¶æ ¼å¼
- **ç°½åæ¬„ä½è¨­å®š** - å¯è¦–åŒ–æ‹–æ‹‰å¼ç°½åå€åŸŸåŠƒå®š
- **æ•¸ä½ç°½åæ•ç²** - HTML5 Canvasæ‰‹å¯«ç°½åæ”¯æ´
- **å°ˆå±¬åˆ†äº«é€£çµ** - ç‚ºæ¯ä»½æ–‡ä»¶ç”Ÿæˆå”¯ä¸€çš„ç°½åé€£çµ
- **Emailè‡ªå‹•é€šçŸ¥** - ç°½åå®Œæˆå¾Œè‡ªå‹•ç™¼é€ç¢ºèªéƒµä»¶
- **å®Œæ•´å¯©è¨ˆè»Œè·¡** - è¨˜éŒ„æ‰€æœ‰ç°½åæ´»å‹•å’Œå®‰å…¨æ—¥èªŒ

### ğŸ›¡ï¸ å®‰å…¨ç‰¹æ€§
- **æ–‡ä»¶åŠ å¯†å­˜å„²** - æ•æ„Ÿè³‡æ–™AES-256åŠ å¯†
- **IPåœ°å€è¨˜éŒ„** - å®Œæ•´çš„ç”¨æˆ¶æ´»å‹•è¿½è¹¤
- **ç°½åé©—è­‰** - æ•¸ä½ç°½åå®Œæ•´æ€§æª¢æŸ¥
- **å­˜å–æ§åˆ¶** - åŸºæ–¼è§’è‰²çš„æ¬Šé™ç®¡ç†
- **é€Ÿç‡é™åˆ¶** - é˜²æ­¢æ¿«ç”¨å’Œæ”»æ“Š

### ğŸ“± ç”¨æˆ¶é«”é©—
- **éŸ¿æ‡‰å¼è¨­è¨ˆ** - å®Œç¾æ”¯æ´æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æ©Ÿ
- **ç›´è§€æ“ä½œ** - ç°¡æ½”çš„ç”¨æˆ¶ä»‹é¢è¨­è¨ˆ
- **å³æ™‚é è¦½** - PDFæ–‡ä»¶å³æ™‚æ¸²æŸ“å’Œé¡¯ç¤º
- **é€²åº¦è¿½è¹¤** - å®Œæ•´çš„ç°½åæµç¨‹æŒ‡å¼•

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç³»çµ±è¦æ±‚
- WordPress 5.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- PHP 7.4 æˆ–æ›´é«˜ç‰ˆæœ¬
- MySQL 5.7 æˆ–æ›´é«˜ç‰ˆæœ¬
- æ”¯æ´ `GD` æˆ– `Imagick` æ“´å±•ï¼ˆç”¨æ–¼PDFé è¦½ï¼‰

### å®‰è£æ­¥é©Ÿ

1. **ä¸‹è¼‰æ’ä»¶**
   ```bash
   git clone https://github.com/user/wp-pdf-signature.git
   ```

2. **ä¸Šå‚³åˆ°WordPress**
   - å°‡æ•´å€‹è³‡æ–™å¤¾ä¸Šå‚³è‡³ `/wp-content/plugins/`
   - æˆ–é€šéWordPressç®¡ç†å¾Œå°ä¸Šå‚³ZIPæª”æ¡ˆ

3. **å•Ÿç”¨æ’ä»¶**
   - åœ¨WordPressç®¡ç†å¾Œå°é€²å…¥ã€Œæ’ä»¶ã€é é¢
   - æ‰¾åˆ°ã€ŒWP PDF Signatureã€ä¸¦é»æ“Šå•Ÿç”¨

4. **åˆå§‹è¨­å®š**
   - é€²å…¥ã€ŒPDFç°½åã€â†’ã€Œè¨­å®šã€
   - é…ç½®åŸºæœ¬åƒæ•¸å’Œéƒµä»¶è¨­å®š

## ğŸ“– ä½¿ç”¨æŒ‡å—

### ç®¡ç†å“¡æ“ä½œ

#### 1. å‰µå»ºç°½åæ–‡ä»¶
```
ç®¡ç†å¾Œå° â†’ PDFç°½å â†’ æ–°å¢æ–‡ä»¶
```
1. ä¸Šå‚³PDFæ–‡ä»¶
2. è¨­å®šæ–‡ä»¶æ¨™é¡Œå’Œæè¿°
3. æ‹–æ‹‰è¨­å®šç°½åæ¬„ä½ä½ç½®
4. ä¿å­˜ä¸¦ç”Ÿæˆåˆ†äº«é€£çµ

#### 2. ç®¡ç†ç°½åè¨˜éŒ„
```
ç®¡ç†å¾Œå° â†’ PDFç°½å â†’ ç°½åè¨˜éŒ„
```
- æŸ¥çœ‹æ‰€æœ‰ç°½åæ´»å‹•
- ä¸‹è¼‰å·²ç°½åæ–‡ä»¶
- å¯©è¨ˆè»Œè·¡æŸ¥è©¢

#### 3. ç³»çµ±è¨­å®š
```
ç®¡ç†å¾Œå° â†’ PDFç°½å â†’ è¨­å®š
```
- ä¸Šå‚³æ–‡ä»¶å¤§å°é™åˆ¶
- ç°½åæ¨£å¼è¨­å®š
- éƒµä»¶é€šçŸ¥é–‹é—œ
- å®‰å…¨ç´šåˆ¥é…ç½®

### å®¢æˆ¶ç«¯æ“ä½œ

1. **è¨ªå•ç°½åé€£çµ**
   - é»æ“Šæ”¶åˆ°çš„ç°½åé€£çµ
   - ç³»çµ±è‡ªå‹•è¼‰å…¥PDFæ–‡ä»¶

2. **å¡«å¯«ç°½åè³‡è¨Š**
   - è¼¸å…¥å§“åå’Œé›»å­éƒµä»¶
   - åœ¨ç°½åæ¿ä¸Šç°½å
   - åŒæ„ç°½åæ¢æ¬¾

3. **æäº¤ç°½å**
   - ç³»çµ±é©—è­‰ç°½åå®Œæ•´æ€§
   - ç”Ÿæˆå·²ç°½åPDF
   - ç™¼é€ç¢ºèªéƒµä»¶

## ğŸ”§ é–‹ç™¼è€…æŒ‡å—

### æ–‡ä»¶çµæ§‹
```
wp-pdf-signature/
â”œâ”€â”€ wp-pdf-signature.php          # ä¸»æ’ä»¶æ–‡ä»¶
â”œâ”€â”€ includes/                     # æ ¸å¿ƒé¡æ–‡ä»¶
â”‚   â”œâ”€â”€ class-pdf-handler.php     # PDFè™•ç†é¡
â”‚   â”œâ”€â”€ class-signature-capture.php # ç°½åæ•ç²é¡
â”‚   â”œâ”€â”€ class-security-manager.php  # å®‰å…¨ç®¡ç†é¡
â”‚   â”œâ”€â”€ class-database-manager.php  # è³‡æ–™åº«ç®¡ç†é¡
â”‚   â””â”€â”€ class-email-notifications.php # éƒµä»¶é€šçŸ¥é¡
â”œâ”€â”€ admin/                        # ç®¡ç†å“¡ä»‹é¢
â”‚   â””â”€â”€ class-admin-interface.php # å¾Œå°ä»‹é¢é¡
â”œâ”€â”€ public/                       # å‰å°ä»‹é¢
â”‚   â””â”€â”€ class-public-interface.php # å‰å°ä»‹é¢é¡
â”œâ”€â”€ assets/                       # éœæ…‹è³‡æº
â”‚   â”œâ”€â”€ js/                       # JavaScriptæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ admin.js              # ç®¡ç†å“¡è…³æœ¬
â”‚   â”‚   â”œâ”€â”€ public.js             # å‰å°è…³æœ¬
â”‚   â”‚   â”œâ”€â”€ pdf-lib.min.js        # PDFè™•ç†åº«
â”‚   â”‚   â”œâ”€â”€ signature-pad.min.js  # ç°½åæ¿åº«
â”‚   â”‚   â”œâ”€â”€ pdf.min.js            # PDF.jsæ ¸å¿ƒ
â”‚   â”‚   â””â”€â”€ pdf.worker.min.js     # PDF.jså·¥ä½œç·šç¨‹
â”‚   â””â”€â”€ css/                      # æ¨£å¼æ–‡ä»¶
â”‚       â”œâ”€â”€ admin.css             # ç®¡ç†å“¡æ¨£å¼
â”‚       â””â”€â”€ public.css            # å‰å°æ¨£å¼
â””â”€â”€ README.md                     # èªªæ˜æ–‡ä»¶
```

### è³‡æ–™åº«è¡¨çµæ§‹

#### ç°½åè¨˜éŒ„è¡¨ (`wp_pdf_signature_logs`)
```sql
id                  # ä¸»éµ
document_id         # æ–‡ä»¶ID
user_id            # ç”¨æˆ¶IDï¼ˆå¯é¸ï¼‰
signature_data     # ç°½ååœ–ç‰‡æ•¸æ“š
signature_hash     # ç°½åå“ˆå¸Œå€¼
signer_name        # ç°½åè€…å§“å
signer_email       # ç°½åè€…éƒµç®±
signer_ip          # ç°½åè€…IP
user_agent         # ç€è¦½å™¨ä¿¡æ¯
signature_position # ç°½åä½ç½®
status             # ç°½åç‹€æ…‹
created_at         # å‰µå»ºæ™‚é–“
updated_at         # æ›´æ–°æ™‚é–“
```

#### ç°½åæ¬„ä½è¡¨ (`wp_pdf_signature_fields`)
```sql
id              # ä¸»éµ
document_id     # æ–‡ä»¶ID
field_type      # æ¬„ä½é¡å‹
field_name      # æ¬„ä½åç¨±
field_position  # æ¬„ä½ä½ç½®
field_size      # æ¬„ä½å¤§å°
field_required  # æ˜¯å¦å¿…å¡«
field_order     # æ’åºé †åº
created_at      # å‰µå»ºæ™‚é–“
```

### é‰¤å­å’Œéæ¿¾å™¨

#### å‹•ä½œé‰¤å­ (Actions)
```php
// æ–‡ä»¶ç°½åå®Œæˆå¾Œ
do_action('wp_pdf_signature_document_signed', $document_id, $signature_data);

// æ–‡ä»¶å‰µå»ºå¾Œ
do_action('wp_pdf_signature_document_created', $document_id);

// ç™¼é€ç°½åæé†’
do_action('wp_pdf_signature_signature_reminder', $document_id, $email);
```

#### éæ¿¾å™¨ (Filters)
```php
// é©—è­‰æ–‡ä»¶ä¸Šå‚³
apply_filters('wp_pdf_signature_validate_upload', $is_valid, $file);

// è‡ªå®šç¾©éƒµä»¶æ¨¡æ¿
apply_filters('wp_pdf_signature_email_template', $template, $type, $vars);

// ä¿®æ”¹ç°½åæ¬„ä½
apply_filters('wp_pdf_signature_signature_fields', $fields, $document_id);
```

### è‡ªå®šç¾©é–‹ç™¼ç¯„ä¾‹

#### æ·»åŠ è‡ªå®šç¾©ç°½åæ¬„ä½é¡å‹
```php
add_filter('wp_pdf_signature_field_types', function($types) {
    $types['custom_field'] = 'è‡ªå®šç¾©æ¬„ä½';
    return $types;
});
```

#### è‡ªå®šç¾©éƒµä»¶æ¨¡æ¿
```php
add_filter('wp_pdf_signature_email_template', function($template, $type, $vars) {
    if ($type === 'signer-confirmation') {
        return '<h1>è‡ªå®šç¾©ç¢ºèªéƒµä»¶</h1><p>æ‚¨å¥½ ' . $vars['signer_name'] . '</p>';
    }
    return $template;
}, 10, 3);
```

## âš™ï¸ é…ç½®é¸é …

### ç’°å¢ƒè®Šæ•¸
```bash
# ä¸Šå‚³æ–‡ä»¶å¤§å°é™åˆ¶ï¼ˆMBï¼‰
WP_PDF_SIGNATURE_MAX_UPLOAD_SIZE=10

# æ–‡ä»¶éæœŸå¤©æ•¸
WP_PDF_SIGNATURE_FILE_EXPIRY_DAYS=30

# å•Ÿç”¨èª¿è©¦æ¨¡å¼
WP_PDF_SIGNATURE_DEBUG=true
```

### WordPressé¸é …
```php
// è¨­å®šé¸é …
update_option('wp_pdf_signature_upload_max_size', 10);
update_option('wp_pdf_signature_signature_color', '#000000');
update_option('wp_pdf_signature_email_notifications', 1);
```

## ğŸ” å®‰å…¨è€ƒé‡

### æ•¸æ“šä¿è­·
- æ‰€æœ‰æ•æ„Ÿæ•¸æ“šä½¿ç”¨AES-256åŠ å¯†
- ç°½ååœ–ç‰‡å­˜å„²åœ¨å—ä¿è­·çš„ç›®éŒ„
- å®Œæ•´çš„è¨ªå•æ—¥èªŒè¨˜éŒ„

### æ¬Šé™æ§åˆ¶
- åŸºæ–¼WordPressè§’è‰²çš„æ¬Šé™ç®¡ç†
- ç®¡ç†å“¡ï¼šå®Œæ•´ç³»çµ±æ§åˆ¶
- ç·¨è¼¯è€…ï¼šå‰µå»ºå’Œç®¡ç†æ–‡ä»¶
- è¨‚é–±è€…ï¼šåƒ…æŸ¥çœ‹åˆ†é…çš„æ–‡ä»¶

### å®‰å…¨å»ºè­°
1. å®šæœŸæ›´æ–°æ’ä»¶åˆ°æœ€æ–°ç‰ˆæœ¬
2. ä½¿ç”¨å¼·å¯†ç¢¼å’Œé›™å› ç´ èªè­‰
3. å®šæœŸå‚™ä»½ç°½åæ•¸æ“š
4. ç›£æ§ç³»çµ±æ—¥èªŒç•°å¸¸æ´»å‹•

## ğŸ“Š æ€§èƒ½å„ªåŒ–

### å»ºè­°é…ç½®
```php
// å¢åŠ PHPå…§å­˜é™åˆ¶
ini_set('memory_limit', '256M');

// å¢åŠ ä¸Šå‚³é™åˆ¶
ini_set('upload_max_filesize', '10M');
ini_set('post_max_size', '10M');
```

### å¿«å–ç­–ç•¥
- ä½¿ç”¨WordPresså°è±¡å¿«å–
- PDFé è¦½åœ–ç‰‡å¿«å–
- ç°½åæ¬„ä½æ•¸æ“šå¿«å–

## ğŸ› å•é¡Œæ’é™¤

### å¸¸è¦‹å•é¡Œ

**Q: PDFç„¡æ³•æ­£ç¢ºé¡¯ç¤ºï¼Ÿ**
A: æª¢æŸ¥æœå‹™å™¨æ˜¯å¦å®‰è£GDæˆ–Imagickæ“´å±•

**Q: ç°½åæäº¤å¤±æ•—ï¼Ÿ**
A: æª¢æŸ¥AJAXè«‹æ±‚å’Œnonceé©—è­‰

**Q: éƒµä»¶é€šçŸ¥æœªç™¼é€ï¼Ÿ**
A: ç¢ºèªWordPresséƒµä»¶é…ç½®æ­£ç¢º

### èª¿è©¦æ¨¡å¼
```php
// åœ¨wp-config.phpä¸­å•Ÿç”¨èª¿è©¦
define('WP_PDF_SIGNATURE_DEBUG', true);
```

## ğŸ¤ è²¢ç»æŒ‡å—

æˆ‘å€‘æ­¡è¿ç¤¾å€è²¢ç»ï¼

### é–‹ç™¼æµç¨‹
1. Forkæ­¤å°ˆæ¡ˆ
2. å‰µå»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. å‰µå»ºPull Request

### ä»£ç¢¼æ¨™æº–
- éµå¾ªWordPressç·¨ç¢¼æ¨™æº–
- æ·»åŠ é©ç•¶çš„è¨»é‡‹å’Œæ–‡æª”
- ç¢ºä¿å‘å¾Œå…¼å®¹æ€§

## ğŸ“ æ›´æ–°æ—¥èªŒ

### v1.0.0 (2025-07-07)
- ğŸ‰ åˆå§‹ç‰ˆæœ¬ç™¼å¸ƒ
- âœ¨ å®Œæ•´çš„PDFç°½ååŠŸèƒ½
- ğŸ›¡ï¸ å®‰å…¨æ€§å’Œå¯©è¨ˆè»Œè·¡
- ğŸ“§ Emailé€šçŸ¥ç³»çµ±
- ğŸ“± éŸ¿æ‡‰å¼è¨­è¨ˆ

## ğŸ“„ æˆæ¬Šå”è­°

æœ¬å°ˆæ¡ˆæ¡ç”¨ [GPL v2](https://www.gnu.org/licenses/gpl-2.0.html) æˆæ¬Šå”è­°ã€‚

## ğŸ“ æ”¯æ´èˆ‡è¯ç¹«

- **æ–‡æª”**: [æŸ¥çœ‹å®Œæ•´æ–‡æª”](https://github.com/user/wp-pdf-signature/wiki)
- **å•é¡Œå›å ±**: [GitHub Issues](https://github.com/user/wp-pdf-signature/issues)
- **åŠŸèƒ½è«‹æ±‚**: [GitHub Discussions](https://github.com/user/wp-pdf-signature/discussions)

---

**ä½¿ç”¨WordPress PDFç°½åç³»çµ±ï¼Œè®“æ–‡ä»¶ç°½åè®Šå¾—ç°¡å–®ã€å®‰å…¨ã€é«˜æ•ˆï¼** ğŸš€

Made with â¤ï¸ by Claude AI